<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>For My Forever Love Adri üíñ</title>
    <link href="https://fonts.googleapis.com/css2?family=Dancing+Script:wght@700&family=Parisienne&family=Poppins:wght@300;400;600&display=swap" rel="stylesheet">
    <style>
        :root {
            --primary-color: #e31b6d;
            --secondary-color: #ff99ac;
            --accent-color: #fff0f3;
            --text-color: #fff;
            --bg-gradient: linear-gradient(135deg, #2e001f 0%, #680026 100%);
            --glass-bg: rgba(255, 255, 255, 0.05);
            --glass-border: rgba(255, 255, 255, 0.1);
        }

        * { margin:0; padding:0; box-sizing:border-box; }

        body {
            font-family: 'Poppins', sans-serif;
            background: var(--bg-gradient);
            min-height: 100vh;
            overflow-x: hidden;
            color: var(--text-color);
            perspective: 1000px;
        }

        #particles {
            position: fixed;
            inset: 0;
            z-index: -1;
            pointer-events: none;
        }

        .particle {
            position: absolute;
            border-radius: 50%;
            background: rgba(255,255,255,0.5);
            animation: float 10s infinite linear;
        }

        @keyframes float {
            0%   { transform: translateY(100vh) scale(0); opacity:0; }
            50%  { opacity: 0.7; }
            100% { transform: translateY(-20vh) scale(1); opacity:0; }
        }

        .container {
            background: var(--glass-bg);
            backdrop-filter: blur(15px);
            border: 1px solid var(--glass-border);
            padding: 2.5rem;
            border-radius: 25px;
            box-shadow: 0 15px 35px rgba(0,0,0,0.5);
            text-align: center;
            max-width: 90%;
            width: 680px;
            margin: 2rem auto;
            position: relative;
            transform-style: preserve-3d;
            transition: all 0.6s cubic-bezier(0.175,0.885,0.32,1.275);
            display: none;
            flex-direction: column;
            align-items: center;
        }

        .container.active {
            display: flex;
            animation: fadeIn 0.8s ease-out;
        }

        @keyframes fadeIn {
            from { opacity:0; transform:translateY(30px); }
            to   { opacity:1; transform:translateY(0); }
        }

        h1 {
            font-family: 'Parisienne', cursive;
            font-size: 3.8rem;
            margin-bottom: 1.2rem;
            color: var(--secondary-color);
            text-shadow: 0 0 18px rgba(227,27,109,0.75);
        }

        @media (max-width:600px) {
            h1 { font-size:2.8rem; }
            .container { padding:1.8rem 1.2rem; }
        }

        p {
            font-size:1.1rem;
            margin-bottom:1.8rem;
            line-height:1.7;
            color:#ddd;
        }

        .btn {
            padding:14px 40px;
            font-size:1.25rem;
            border:none;
            border-radius:50px;
            cursor:pointer;
            transition:all 0.3s ease;
            font-family:'Poppins',sans-serif;
            font-weight:600;
            margin:12px;
            background:linear-gradient(45deg,#ff3366,#ff6b6b);
            color:white;
            box-shadow:0 6px 18px rgba(255,51,102,0.45);
        }

        .btn:hover {
            transform:translateY(-4px) scale(1.06);
            box-shadow:0 10px 30px rgba(255,51,102,0.65);
        }

        .gallery-grid {
            display:grid;
            grid-template-columns:repeat(auto-fit,minmax(220px,1fr));
            gap:20px;
            margin:1.5rem 0 2.5rem;
            width:100%;
            padding:0 10px;
        }

        .photo-card {
            background:#fff;
            padding:12px;
            border-radius:8px;
            box-shadow:0 8px 20px rgba(0,0,0,0.25);
            transform:rotate(-2deg);
            transition:all 0.35s ease;
            position:relative;
            overflow:hidden;
        }

        .photo-card:nth-child(even) { transform:rotate(2deg); }

        .photo-card:hover {
            transform:scale(1.08) rotate(0deg);
            z-index:10;
            box-shadow:0 15px 40px rgba(0,0,0,0.4);
        }

        .photo-card::after {
            content:"";
            position:absolute;
            inset:0;
            border:8px solid #fff;
            pointer-events:none;
            opacity:0.9;
            border-radius:4px;
        }

        .photo-card img {
            width:100%;
            aspect-ratio:4/5;
            object-fit:cover;
            border-radius:4px;
            display:block;
            position:relative;
            z-index:1;
        }

        .letter-content {
            font-family:'Dancing Script',cursive;
            font-size:1.8rem;
            text-align:left;
            background:rgba(255,255,255,0.92);
            color:#222;
            padding:2.2rem;
            border-radius:12px;
            box-shadow:0 8px 25px rgba(0,0,0,0.15);
            margin:1.5rem 0 2rem;
            min-height:220px;
            position:relative;
        }

        .cursor::after {
            content:'|';
            animation:blink 1s infinite;
        }

        @keyframes blink { 50% { opacity:0; } }

        .music-control {
            position:fixed;
            bottom:24px;
            right:24px;
            background:rgba(255,255,255,0.12);
            border:1px solid rgba(255,255,255,0.25);
            width:56px; height:56px;
            border-radius:50%;
            display:flex;
            justify-content:center;
            align-items:center;
            cursor:pointer;
            z-index:100;
            font-size:26px;
            transition:all 0.4s;
        }

        .music-control:hover {
            background:rgba(255,255,255,0.35);
            transform:rotate(360deg) scale(1.1);
        }

        #noBtn {
            z-index: 9999 !important;
            will-change: transform, left, top;
        }

        @media (max-width:500px) {
            .gallery-grid { grid-template-columns:1fr; gap:24px; padding:0 15px; }
            .photo-card { transform:rotate(-1.5deg); }
            .photo-card:nth-child(even) { transform:rotate(1.5deg); }
        }
    </style>
</head>
<body>

    <div id="particles"></div>

    <!-- Intro -->
    <div class="container active" id="screen-intro">
        <h1>Hey Beautiful... ‚ú®</h1>
        <p>I have something special to show you.</p>
        <button class="btn" onclick="nextScreen('screen-gallery')">Start Journey ‚ù§Ô∏è</button>
    </div>

    <!-- Gallery -->
    <div class="container" id="screen-gallery">
        <h1>Our Memories üì∏</h1>
        <p>Every moment with you is a treasure.</p>
        <div class="gallery-grid">
            <div class="photo-card"><img src="c:\Users\Abir Hasan\OneDrive\„Éâ„Ç≠„É•„É°„É≥„Éà\Valentine\IMG_3563.JPG" alt="Memory 1"></div>
            <div class="photo-card"><img src="c:\Users\Abir Hasan\OneDrive\„Éâ„Ç≠„É•„É°„É≥„Éà\Valentine\IMG_3564.JPG" alt="Memory 2"></div>
            <div class="photo-card"><img src="c:\Users\Abir Hasan\OneDrive\„Éâ„Ç≠„É•„É°„É≥„Éà\Valentine\IMG_3565.JPG" alt="Memory 3"></div>
            <div class="photo-card"><img src="c:\Users\Abir Hasan\OneDrive\„Éâ„Ç≠„É•„É°„É≥„Éà\Valentine\IMG_3566.JPG" alt="Memory 4"></div>
        </div>
        <button class="btn" onclick="nextScreen('screen-letter')">Next ‚Üí</button>
    </div>

    <!-- Letter -->
    <div class="container" id="screen-letter">
        <h1>For You... üíå</h1>
        <div class="letter-content">
            <span id="typewriter-text"></span><span class="cursor"></span>
        </div>
        <button class="btn" id="letter-next-btn" style="opacity:0; pointer-events:none;" onclick="nextScreen('screen-proposal')">One Last Thing...</button>
    </div>

    <!-- Proposal -->
    <div class="container" id="screen-proposal">
        <h1>Will You Be My Valentine? üåπ</h1>
        <p>You are my sunshine, my joy, and my everything.</p>
        <div class="proposal-btns">
            <button class="btn" onclick="acceptProposal()">YES! üòç</button>
            <button class="btn" id="noBtn">No üò¢</button>
        </div>
    </div>

    <!-- Celebration -->
    <div class="container" id="screen-celebration">
        <h1>I Knew It! üíñ</h1>
        <img src="https://media.giphy.com/media/26BRv0ThflsHCqDrG/giphy.gif" alt="Celebration" style="width:100%; border-radius:10px; margin-bottom:20px;">
        <p>I love you so much! Can't wait for our date! ü•∞</p>
    </div>

    <!-- Audio -->
    <audio id="bgMusic" loop>
        <source src="https://www.soundhelix.com/examples/mp3/SoundHelix-Song-15.mp3" type="audio/mp3">
    </audio>
    <div class="music-control" onclick="toggleMusic()">üéµ</div>

    <script>
        // Config
        const YOUR_EMAIL = "abirh8292@gmail.com";
        const loveLetterText = "Dearest Love,\n\nFrom the moment I met you, my world has been brighter. Your smile is my favorite sight, and your laughter is my favorite sound.\n\nI cherish every moment we share, and I want to create a million more memories with you.\n\nSo, I have a very important question...";

        // Particles
        function createParticles() {
            const container = document.getElementById('particles');
            for (let i = 0; i < 30; i++) {
                const p = document.createElement('div');
                p.classList.add('particle');
                p.style.left = Math.random() * 100 + 'vw';
                p.style.width = p.style.height = Math.random() * 10 + 5 + 'px';
                p.style.animationDuration = Math.random() * 10 + 10 + 's';
                p.style.animationDelay = Math.random() * 10 + 's';
                container.appendChild(p);
            }
        }
        createParticles();

        // Navigation
        function nextScreen(targetId) {
            document.querySelectorAll('.container').forEach(c => c.classList.remove('active'));
            document.getElementById(targetId).classList.add('active');

            if (targetId === 'screen-letter') startTypewriter();
            if (targetId === 'screen-intro') playMusic();
        }

        // Music
        const music = document.getElementById('bgMusic');
        let isPlaying = false;

        function toggleMusic() {
            isPlaying ? music.pause() : music.play().catch(()=>{});
            isPlaying = !isPlaying;
        }

        function playMusic() {
            if (!isPlaying) music.play().catch(()=>{});
            isPlaying = true;
        }

        // Typewriter
        let charIndex = 0;
        function startTypewriter() {
            const elem = document.getElementById('typewriter-text');
            elem.innerHTML = "";
            charIndex = 0;
            type();
        }

        function type() {
            if (charIndex < loveLetterText.length) {
                const char = loveLetterText.charAt(charIndex);
                document.getElementById('typewriter-text').innerHTML += char === '\n' ? '<br>' : char;
                charIndex++;
                setTimeout(type, 50);
            } else {
                document.getElementById('letter-next-btn').style.opacity = '1';
                document.getElementById('letter-next-btn').style.pointerEvents = 'auto';
            }
        }

        // No Button Dodge
        let dodgeCount = 0;
        let isProposalAccepted = false;

        function dodgeButton() {
            if (isProposalAccepted) return;  // Stop completely after YES

            const btn = document.getElementById('noBtn');
            if (!btn) return;

            const phrases = [
                "No üò¢","Are you sure?","Really?","Think again!",
                "Don't break my heart üíî","Please? ü•∫","Last chance!",
                "You can't say no!","I'll give you cookies üç™","But I love you! ‚ù§Ô∏è"
            ];

            btn.textContent = phrases[dodgeCount % phrases.length];
            dodgeCount++;

            if (btn.parentElement !== document.body) {
                document.body.appendChild(btn);
            }

            btn.style.position = 'fixed';
            btn.style.transition = 'all 0.45s ease-out';

            const rect = btn.getBoundingClientRect();
            const maxX = window.innerWidth - rect.width - 40;
            const maxY = window.innerHeight - rect.height - 80;

            const x = Math.max(30, Math.random() * maxX);
            const y = Math.max(30, Math.random() * maxY);

            btn.style.left = x + 'px';
            btn.style.top  = y + 'px';

            btn.style.transform = `rotate(${Math.random()*10-5}deg) scale(1.05)`;
            setTimeout(() => {
                if (!isProposalAccepted) btn.style.transform = 'rotate(0deg) scale(1)';
            }, 400);
        }

        // Attach dodge events
        const noBtn = document.getElementById('noBtn');
        if (noBtn) {
            noBtn.addEventListener('mouseover', dodgeButton);
            noBtn.addEventListener('touchstart', dodgeButton, {passive:true});
        }

        // Accept Proposal ‚Äì now disables/hides No button
        function acceptProposal() {
            isProposalAccepted = true;

            const noBtn = document.getElementById('noBtn');
            if (noBtn) {
                noBtn.style.display = 'none';  // Hide it so no more events/phrases
            }

            nextScreen('screen-celebration');
            triggerConfetti();
            sendNotification();
        }

        // Notification
        function sendNotification() {
            if (!YOUR_EMAIL) {
                console.warn("No email configured");
                return;
            }

            fetch(`https://formsubmit.co/ajax/${YOUR_EMAIL}`, {
                method: "POST",
                headers: {
                    'Content-Type': 'application/json',
                    'Accept': 'application/json'
                },
                body: JSON.stringify({
                    _subject: "SHE SAID YES! üíñüíç",
                    message: `Yay! Your Valentine said YES on ${new Date().toLocaleString()} üéâ`,
                    _template: "box"
                })
            })
            .then(r => r.json())
            .then(d => console.log("Sent:", d))
            .catch(e => console.error("Email error:", e));
        }

        // Simple Confetti
        function triggerConfetti() {
            const colors = ['#ff3366','#ff6b6b','#fff0f3','#e31b6d','#ff99ac'];
            for (let i = 0; i < 120; i++) {
                const c = document.createElement('div');
                c.style.cssText = `
                    position:fixed; left:${Math.random()*100}vw; top:-10px;
                    width:8px; height:8px; background:${colors[Math.floor(Math.random()*colors.length)]};
                    z-index:1000; border-radius:50%;
                `;
                document.body.appendChild(c);

                c.animate([
                    { transform:'translateY(0) rotate(0deg)', opacity:1 },
                    { transform:`translateY(${window.innerHeight+50}px) rotate(${Math.random()*720}deg)`, opacity:0 }
                ], {
                    duration: Math.random()*2000 + 2500,
                    easing: 'linear',
                    fill: 'forwards'
                });

                setTimeout(() => c.remove(), 6000);
            }
        }
    </script>
</body>
</html>